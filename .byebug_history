exit
 Current.session.ip_address
request.ip
Current.session.ip_address == request.ip
Current.session.is_valid_session?
 Current.session = Session.find_by(refresh_token: params[:refresh_token])
exit
Current.session.is_valid_session?
Current.session = Session.find_by(refresh_token: params[:refresh_token])
continue
exit
response.body
exit
response.body
exit
new_session = create(:session, user: @signed_in_user)
new_session = create(session, user: @signed_in_user)
@signed_in_user
exit
continue
next
continue
next
token
next
auth_header = request.headers["Authorization"]
continue
next
create(:session, user: @signed_in_user)
continue
exit
response.body
exit
response.body
exit
response.body
continue
Session.find(decoded_token["jti"])
Session.find(decoded_token["jti"]
decoded_token
exit
sign_in_params = params.require([:email_address, :password]).permit(:email_address, :password)
User.authenticate_by("user@example.com", "password")
User.authenticate_by(["user@example.com", "password"])
User.authenticate_by(_)
params.require([:email_address, :password])
params.require([:email_address, :password]
exit
params.require([:email_address, :password])
params.require(:email_address)
params
continue
json_response
next
user.profile
user
continue
next
profile_params
next
profile_params = params[:user][:profile_attributes]
params
continue
next
exit
@user
 Role.where(id: ids)
exit
FactoryBot.create(:user)
create(:user)
User.new
@user
roles = Role.where(id: ids)
@user.roles= _
Role.where(id: ids)
exit
next
continue
exit
 params[:user][:role_ids]
params.expect(user: [:role_ids])
params.expect(user: [:email_address, :password, :password_confirmation])
params
ids = params.expect(:user)
ids = params.expect(user)
ids = params.expect(user: [:role_ids])
ids = params.expect('user' => [:role_ids])[:role_ids]
ids = params.expect(user: [:role_ids])
ids = params.expect(user: [:role_ids])[:role_ids]
params
